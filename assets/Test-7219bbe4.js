import{W,X as se,Y as oe,Z as ae,a as i,$ as ne,a0 as le,_ as ie,d as ce,f as re,u as de,U as ue,g as $,h as M,V as j,N as B,i as fe,p as pe,n as me,r as C,o as c,c as v,b as n,j as r,m as _,t as m,k as d,l as I,s as he,q as ve,A as x,I as ge,F as H,x as R}from"./index-66fccc80.js";import{u as ke,M as we,S as E,L as ye,a as _e}from"./SingleSelect-757d073d.js";import"./ethers-1c7de5fd.js";import"./units-ac5af918.js";import"./bignumber-3e8dfdf6.js";let V;const Se={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let Ne=W({},Se);function $e(){({instance:V}=oe({setup(){const{state:u,toggle:s}=ae();return()=>i(le,ne(u,{"onUpdate:show":s}),null)}}))}function Ce(S){return se?new Promise((u,s)=>{V||$e(),V.open(W({},Ne,S,{callback:f=>{(f==="confirm"?u:s)(f)}}))}):Promise.resolve()}const Te=S=>Ce(W({showCancelButton:!0},S));const be={class:"body launchpad"},Le={class:"top"},Pe={class:"tools-bar"},Ae={class:"left"},Be={class:"address-text"},Ie={style:{"margin-left":"4px"}},xe={class:"tools"},Ve={class:"search"},We={class:"select"},De={class:"launchpad-content"},Ue={key:0,class:"list-title"},ze={class:"title-item"},Oe={class:"arrow"},Fe={class:"title-item"},Me={class:"arrow"},je={class:"title-item"},He={class:"arrow"},Re={class:"text"},Ee={key:0},qe={key:1},Xe={class:"list-content"},Ye={__name:"Test",setup(S){const u=ce(),s=ke();re();const{t:f}=de();ue("reload");const N=$(""),g=$(!1),k=$(!1),w=$(!1),p=$(""),l=M({type:"",isAsc:!1}),o=M({page:1,pageSize:10,launchpadList:[],refreshing:!1,loading:!1,finished:!1,error:!1});p.value=j.get("launchpadShowType","block");async function q(){await u.connectWallet()}function X(){Te({title:f("tips"),message:f("disonnectWallet"),confirmButtonText:f("confirm"),cancelButtonText:f("cancel")}).then(()=>{u.disconnectWallet()}).catch(()=>{})}function D(){p.value=="block"?o.pageSize=20:p.value=="list"&&(o.pageSize=40)}D();function U(e){e!=p.value&&(p.value=e,D(),j.set("launchpadShowType",e))}function Y(e){N.value=e,y()}function z(){k.value=!1,w.value=!1,g.value=!g.value,g.value?document.body.style.overflow="hidden":document.body.style.overflow=""}function Z(e){if(e.length===0){he(f("selectNetworkWarn"));return}z(),s.checkedNetworks=e,y()}const G=B(()=>s.networks.length===s.checkedNetworks.length?"allNetworks":f("networks",{num:s.checkedNetworks.length}));function O(){g.value=!1,w.value=!1,k.value=!k.value,k.value?document.body.style.overflow="hidden":document.body.style.overflow=""}function J(e){O(),s.checkedPlatform=e,y()}const K=B(()=>{var e;return(e=s.platforms.find(t=>t.value===s.checkedPlatform))==null?void 0:e.name});function L(e){e==l.type?l.isAsc?(l.type="",l.isAsc=!1):l.isAsc=!0:(l.type=e,l.isAsc=!1),y()}function F(){g.value=!1,k.value=!1,w.value=!w.value,w.value?document.body.style.overflow="hidden":document.body.style.overflow=""}function Q(e){F(),s.checkedStatus=e,y()}const ee=B(()=>s.statusList.find(e=>e.value===s.checkedStatus).name);fe(()=>{P()});function y(){o.page=1,o.launchpadList=[],o.finished=!1,o.error=!1,P()}async function P(){o.loading=!0;let e=pe({duration:0});console.log(s.checkedNetworks.toString());let t="";N.value&&(t=N.value);let T="";s.checkedPlatform!=="all"&&(T=s.checkedPlatform);let b="";s.checkedStatus!=="all"&&(b=s.checkedStatus);try{let h=await me.launchpad.getLaunchpadList(o.page,o.pageSize,t,s.checkedNetworks.toString(),T,b,l);if(console.log(h),h.data.status==0){for(let A of h.data.data.list)o.launchpadList.push(A);h.data.data.list.length<o.pageSize?o.finished=!0:o.page++}}catch(h){o.error=!0,console.log(h)}finally{e.close(),o.loading=!1,o.refreshing=!1}}return(e,t)=>{const T=C("van-image"),b=C("van-field"),h=C("van-empty"),A=C("van-list"),te=C("van-pull-refresh");return c(),v("div",be,[n("div",Le,[n("div",Pe,[n("div",Ae,[n("div",{onClick:t[0]||(t[0]=a=>r(u).showSelectDapp=!0)},[i(d,{class:"icon",name:"menu"})]),r(u).isConnectWallet?(c(),v("div",{key:0,class:"address",onClick:X},[r(u).chainIcon?(c(),_(T,{key:0,class:"chain-icon",round:"",src:r(u).chainIcon},null,8,["src"])):(c(),_(d,{key:1,class:"chain-icon",name:"wallet"})),n("div",Be,m(r(ve)(r(u).walletAddress)),1)])):(c(),v("div",{key:1,class:"address",onClick:q},[i(d,{name:"wallet"}),n("div",Ie,m(e.$t("pleaseConnectWallet")),1)]))]),n("div",xe,[i(d,{name:"language",onClick:t[1]||(t[1]=a=>r(u).showLanguagePicker=!0)})])]),n("div",Ve,[i(b,{class:"search-input","left-icon":"search","onUpdate:modelValue":[Y,t[2]||(t[2]=a=>N.value=a)],modelValue:N.value,placeholder:e.$t("enterTokenName"),clearable:""},null,8,["modelValue","placeholder"])]),n("div",We,[i(we,{onConfirm:Z,onToggleSelect:z,show:g.value,option:r(s).networks,checked:r(s).checkedNetworks,showName:e.$t(G.value)},null,8,["show","option","checked","showName"]),i(E,{onConfirm:J,onToggleSelect:O,show:k.value,option:r(s).platforms,checked:r(s).checkedPlatform,showName:e.$t(K.value)},null,8,["show","option","checked","showName"]),i(E,{onConfirm:Q,onToggleSelect:F,show:w.value,option:r(s).statusList,checked:r(s).checkedStatus,showName:e.$t(ee.value)},null,8,["show","option","checked","showName"]),i(d,{name:p.value=="block"?"blockSelect":"block",class:"icon",onClick:t[3]||(t[3]=a=>U("block"))},null,8,["name"]),i(d,{name:p.value=="list"?"listSelect":"list",class:"icon",onClick:t[4]||(t[4]=a=>U("list"))},null,8,["name"])])]),n("div",De,[i(te,{modelValue:o.refreshing,"onUpdate:modelValue":t[11]||(t[11]=a=>o.refreshing=a),onRefresh:y,"pulling-text":e.$t("pulling"),"loosing-text":e.$t("loosing"),"loading-text":e.$t("loading")},{default:I(()=>[p.value=="list"?(c(),v("div",Ue,[n("div",ze,[n("span",{onClick:t[5]||(t[5]=a=>L("tagNum"))},[x(m(e.$t("projectToken"))+"/"+m(e.$t("tags"))+" ",1),n("span",Oe,[i(d,{name:l.type=="tagNum"&&l.isAsc?"topSelect":"top",class:"icon"},null,8,["name"]),i(d,{name:l.type=="tagNum"&&!l.isAsc?"downSelect":"down",class:"icon"},null,8,["name"])])])]),n("div",Fe,[n("span",{onClick:t[6]||(t[6]=a=>L("softcap"))},[x(m(e.$t("status"))+"/"+m(e.$t("softHard"))+" ",1),n("span",Me,[i(d,{name:l.type=="softcap"&&l.isAsc?"topSelect":"top",class:"icon"},null,8,["name"]),i(d,{name:l.type=="softcap"&&!l.isAsc?"downSelect":"down",class:"icon"},null,8,["name"])])])]),n("div",je,[n("span",{onClick:t[7]||(t[7]=a=>L("startTime"))},[x(m(e.$t("platform1"))+"/"+m(e.$t("startTime"))+" ",1),n("span",He,[i(d,{name:l.type=="startTime"&&l.isAsc?"topSelect":"top",class:"icon"},null,8,["name"]),i(d,{name:l.type=="startTime"&&!l.isAsc?"downSelect":"down",class:"icon"},null,8,["name"])])])])])):ge("",!0),o.launchpadList.length==0?(c(),_(h,{key:1,class:"empty-box"},{image:I(()=>[i(d,{class:"icon",name:"emptyHistory"}),n("div",Re,m(e.$t("noRecord")),1)]),_:1})):(c(),_(A,{key:2,class:"launchpad-list",loading:o.loading,"onUpdate:loading":t[8]||(t[8]=a=>o.loading=a),"loading-text":e.$t("loading"),finished:o.finished,"error-text":e.$t("errorText"),"finished-text":e.$t("noMore"),error:o.error,"onUpdate:error":t[9]||(t[9]=a=>o.error=a),onLoad:t[10]||(t[10]=a=>P())},{default:I(()=>[p.value=="block"?(c(),v("div",Ee,[(c(!0),v(H,null,R(o.launchpadList,a=>(c(),_(ye,{class:"launchpad-item",launchpadItem:a,key:a.address},null,8,["launchpadItem"]))),128))])):(c(),v("div",qe,[n("div",Xe,[(c(!0),v(H,null,R(o.launchpadList,a=>(c(),_(_e,{class:"launchpad-item",launchpadItem:a,key:a.address},null,8,["launchpadItem"]))),128))])]))]),_:1},8,["loading","loading-text","finished","error-text","finished-text","error"]))]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text"])])])}}},et=ie(Ye,[["__scopeId","data-v-565ea1e0"]]);export{et as default};

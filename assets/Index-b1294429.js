import{_ as oe,u as ie,f as re,d as de,g,N as S,r as N,o as u,c as v,b as a,a as r,j as n,T as ue,A as m,t as s,k as j,I as y,F as U,l as c,m as h,q as I,n as O,s as i,z as ce,y as pe,v as B,L as me,M as fe}from"./index-66fccc80.js";import{B as b}from"./bignumber-3e8dfdf6.js";import{u as ve}from"./manage-3ae0f00d.js";import{D}from"./Dialog-9daba7a7.js";import"./units-ac5af918.js";/* empty css                                                       */const ye=T=>(me("data-v-4c59742e"),T=T(),fe(),T),ke={class:"manage"},we=ye(()=>a("div",{class:"top-background"},null,-1)),ge={class:"top"},he={class:"token-info"},be={class:"top-info"},Ce={class:"token-name"},$e={class:"token-symbol"},Ie={class:"token-address"},Te={class:"bottom-info"},Le={class:"small-title"},_e={key:0},Ae={key:1},Fe={key:2},Se={key:3},Oe={key:4},Be={class:"small-title"},We={class:"small-title"},Me={class:"total-supply"},Ee={class:"small-title"},Ne={key:0},je={key:1},Pe={class:"small-title"},Re={class:"small-title"},He={key:0,class:"model-manage"},Ue={class:"title"},De={key:1,class:"trade-manage"},ze={class:"title"},Ve={class:"authority-manage"},qe={class:"title"},Ke={class:"bottom-operate"},Ge={key:2,class:"bottom-operate",style:{marginTop:"12px",marginBottom:"20px"}},Je={__name:"Index",setup(T){const z=window.ethereum.isMetaMask,{t:o}=ie(),k=re(),C=de(),e=ve(),L=g(!1),_=g(!1),A=g(!1),p=S(()=>C.walletAddress.toLowerCase()===e.owner.toLowerCase()),P=S(()=>{if(e.deployerId==1||e.deployerId==6)return b(e.buyFundFee).plus(e.buyLPFee).plus(e.buyBurnFee);if(e.deployerId==2||e.deployerId==3||e.deployerId==7||e.deployerId==8)return b(e.buyFundFee).plus(e.buyLPFee).plus(e.buyRewardFee);if(e.deployerId==4)return b(e.buyFundFee).plus(e.buyLPFee).plus(e.buyRewardFee).plus(e.buyBurnFee)}),R=S(()=>{if(e.deployerId==1||e.deployerId==6)return b(e.sellFundFee).plus(e.sellLPFee).plus(e.sellBurnFee);if(e.deployerId==2||e.deployerId==3||e.deployerId==7||e.deployerId==8)return b(e.sellFundFee).plus(e.sellLPFee).plus(e.sellRewardFee);if(e.deployerId==4)return b(e.sellFundFee).plus(e.sellLPFee).plus(e.sellRewardFee).plus(e.sellBurnFee)});let H=e.name;e.$subscribe((t,l)=>{l.name!=H&&(document.title=o("manageName",{name:l.name}),H=l.name)});const $=g(!1),W=g(!1),F=g(!1),M=g("");function V(){$.value=!0}const q=S(()=>o("operationHash",{hash:I(M.value)}));async function K(){W.value=!0;try{const t=await O.wallet.contract(e.tokenAddress,e.abi);let l=await t.renounceOwnership();M.value=l.hash,l.wait().then(async w=>{w.status===1&&(i({type:"success",message:o("upChainSuccessfully")}),e.owner=await t.owner())}),F.value=!0,$.value=!1}catch(t){console.log(t),t.info&&t.info.error&&t.info.error.code===4001?i(o("userCancelOperate")):t.error&&t.error.message&&t.error.message=="Canceled"?i(o("userCancelOperate")):i(o("unkonwError"))}finally{W.value=!1}}async function G(){try{await window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e.tokenAddress,symbol:e.symbol,decimals:e.decimals,image:""}}})}catch(t){console.log(t),t.info&&t.info.error&&t.info.error.code===4001?i(o("userCancelOperate")):t.error&&t.error.message&&t.error.message=="Canceled"?i(o("userCancelOperate")):i(o("unkonwError"))}}async function J(){if(!L.value&&p.value&&!e.tradeStart){L.value=!0;try{const t=await O.wallet.contract(e.tokenAddress,e.abi);let l;e.deployerId!=4?l=await t.startTrade():l=await t.launch(),await l.wait(),i({type:"success",message:o("tradeOpening")}),e.tradeStart=!0}catch(t){console.log(t.info),t.info&&t.info.error&&t.info.error.code===4001?i(o("userCancelOperate")):t.error&&t.error.message&&t.error.message=="Canceled"?i(o("userCancelOperate")):i(o("unkonwError"))}finally{L.value=!1}}}async function Q(){if(!C.isConnectWallet){i(o("pleaseConnectWallet"));return}if(!_.value){if(!p.value){i(o("notHolder"));return}if(e.enableSwapLimit){_.value=!0;try{await(await(await O.wallet.contract(e.tokenAddress,e.abi)).disableSwapLimit()).wait(),i(o("closeSwapLimit")),e.enableSwapLimit=!1,e.maxSwapAmount=0}catch(t){t.info&&t.info.error&&t.info.error.code===4001?i(o("userCancelOperate")):t.error&&t.error.message&&t.error.message=="Canceled"?i(o("userCancelOperate")):i(o("unkonwError"))}finally{_.value=!1}}}}async function X(){if(!C.isConnectWallet){i(o("pleaseConnectWallet"));return}if(!A.value){if(!p.value){i(o("notHolder"));return}if(e.enableWalletLimit){A.value=!0;try{await(await(await O.wallet.contract(e.tokenAddress,e.abi)).disableWalletLimit()).wait(),i(o("closeWalletLimit")),e.enableWalletLimit=!1,e.maxWalletAmount=0}catch(t){t.info&&t.info.error&&t.info.error.code===4001?i(o("userCancelOperate")):t.error&&t.error.message&&t.error.message=="Canceled"?i(o("userCancelOperate")):i(o("unkonwError"))}finally{A.value=!1}}}}function Y(){k.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/mintToken")}function Z(){p.value&&k.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/whiteList")}function x(){console.log(p.value),p.value&&k.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/taxEditing")}function ee(){p.value&&k.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/editFundAddress")}function te(){p.value&&k.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/editMaxSwapAmount")}function ne(){p.value&&k.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/editMaxWalletAmount")}function le(){k.push("/createToken/manage/"+e.deployerId+"/"+e.tokenAddress+"/transferOwnership")}function se(){window.open("https://aveliquidity.github.io/")}function ae(){k.push("/lockMaster")}return(t,l)=>{const w=N("van-button"),f=N("van-cell"),E=N("van-switch");return u(),v(U,null,[a("div",ke,[we,a("div",ge,[a("div",he,[a("div",be,[r(ue,{class:"token-icon",chainIcon:n(ce)(n(C).chain.toLowerCase()),tokenIcon:n(pe)(n(C).chain.toLowerCase(),n(e).tokenAddress.toLowerCase())},null,8,["chainIcon","tokenIcon"]),a("div",null,[a("div",Ce,[m(s(n(e).name),1),a("span",$e,s(n(e).symbol),1)]),a("div",Ie,[m(s(t.$t("tokenAddress"))+"ï¼š"+s(n(I)(n(e).tokenAddress))+" ",1),r(j,{class:"icon",name:"copy",onClick:l[0]||(l[0]=d=>n(B)(n(e).tokenAddress))})])])]),a("div",Te,[a("div",null,[a("div",Le,s(t.$t("template")),1),a("div",null,[n(e).deployerId==0||n(e).deployerId==5?(u(),v("span",_e,s(t.$t("freeTax")),1)):n(e).deployerId==1||n(e).deployerId==6?(u(),v("span",Ae,s(t.$t("feeToken")),1)):n(e).deployerId==2||n(e).deployerId==7?(u(),v("span",Fe,s(t.$t("selfDividendToken")),1)):n(e).deployerId==3||n(e).deployerId==8?(u(),v("span",Se,s(t.$t("addPoolDividend")),1)):n(e).deployerId==4?(u(),v("span",Oe,s(t.$t("dividendToken")),1)):y("",!0)])]),a("div",null,[a("div",Be,s(t.$t("managerAddress")),1),a("div",null,[m(s(n(I)(n(e).owner)),1),r(j,{class:"icon",name:"copy",onClick:l[1]||(l[1]=d=>n(B)(n(e).tokenAddress))})])]),a("div",null,[a("div",We,s(t.$t("totalSupply")),1),a("div",Me,s(n(e).totalSupply),1)]),a("div",null,[a("div",Ee,s(t.$t("tax")),1),a("div",null,[n(e).deployerId==0||n(e).deployerId==5?(u(),v("span",Ne,s(t.$t("freeTax")),1)):(u(),v("span",je,s(t.$t("buy"))+" "+s(P.value)+"% "+s(t.$t("sell"))+" "+s(R.value)+"%",1))])]),n(e).deployerId==3||n(e).deployerId==4||n(e).deployerId==8?(u(),v(U,{key:0},[a("div",null,[a("div",Pe,s(t.$t("fundAddress")),1),a("div",null,[m(s(n(I)(n(e).rewardToken)),1),r(j,{class:"icon",name:"copy",onClick:l[2]||(l[2]=d=>n(B)(n(e).rewardToken))})])]),a("div",null,[a("div",Re,s(t.$t("fundAddressName")),1),a("div",null,s(n(e).rewardTokenName)+" ("+s(n(e).rewardTokenSymbol)+")",1)])],64)):y("",!0)])])]),n(e).canMint?(u(),v("div",He,[a("div",Ue,s(t.$t("economicManagement")),1),r(f,{class:"cell"},{title:c(()=>[m(s(t.$t("published"))+" "+s(n(e).totalSupply),1)]),extra:c(()=>[r(w,{class:"btn",type:"primary",round:"",size:"mini",onClick:l[3]||(l[3]=d=>Y()),disabled:!p.value},{default:c(()=>[m(s(t.$t("mint")),1)]),_:1},8,["disabled"])]),_:1})])):y("",!0),n(e).deployerId!=0&&n(e).deployerId!=5?(u(),v("div",De,[a("div",ze,s(t.$t("tradeManage")),1),n(e).enableManualStartTrade?(u(),h(f,{key:0,class:"cell",title:t.$t("openTrade")},{extra:c(()=>[r(E,{class:"switch","model-value":n(e).tradeStart,loading:L.value,onClick:l[4]||(l[4]=d=>J()),disabled:n(e).tradeStart||!p.value},null,8,["model-value","loading","disabled"])]),_:1},8,["title"])):y("",!0),n(e).enableKillBlock?(u(),h(f,{key:1,class:"cell killBlock",title:t.$t("autoKillBlockNum")},{extra:c(()=>[m(s(n(e).killBlock),1)]),_:1},8,["title"])):y("",!0),n(e).enableChangeTax?(u(),h(f,{key:2,title:t.$t("taxEdit"),"is-link":"",onClick:l[5]||(l[5]=d=>x())},{value:c(()=>[m(s(t.$t("buy"))+" "+s(P.value)+"% "+s(t.$t("sell"))+" "+s(R.value)+"% ",1)]),_:1},8,["title"])):y("",!0),n(e).enableWhiteList?(u(),h(f,{key:3,title:t.$t("whiteList"),"is-link":"",value:n(e).deployerId!=4?n(e).whiteListCount:"",onClick:l[6]||(l[6]=d=>Z())},null,8,["title","value"])):y("",!0),r(f,{class:"cell",title:t.$t("swapLimit")},{extra:c(()=>[r(E,{class:"switch","model-value":n(e).enableSwapLimit,loading:_.value,onClick:l[7]||(l[7]=d=>Q()),disabled:!n(e).enableSwapLimit||!p.value},null,8,["model-value","loading","disabled"])]),_:1},8,["title"]),n(e).enableSwapLimit?(u(),h(f,{key:4,title:t.$t("swapAmount"),"is-link":"",onClick:l[8]||(l[8]=d=>te())},{value:c(()=>[a("span",null,s(n(e).maxSwapAmount),1)]),_:1},8,["title"])):y("",!0),r(f,{class:"cell",title:t.$t("walletLimit")},{extra:c(()=>[r(E,{class:"switch","model-value":n(e).enableWalletLimit,loading:A.value,onClick:l[9]||(l[9]=d=>X()),disabled:!n(e).enableWalletLimit||!p.value},null,8,["model-value","loading","disabled"])]),_:1},8,["title"]),n(e).enableWalletLimit?(u(),h(f,{key:5,title:t.$t("walletAmount"),"is-link":"",onClick:l[10]||(l[10]=d=>ne())},{value:c(()=>[m(s(n(e).maxWalletAmount),1)]),_:1},8,["title"])):y("",!0),r(f,{title:t.$t("marketingAddress"),"is-link":"",onClick:l[11]||(l[11]=d=>ee())},{value:c(()=>[a("div",null,s(n(I)(n(e).fundAddress)),1)]),_:1},8,["title"])])):y("",!0),a("div",Ve,[a("div",qe,s(t.$t("authorityManagement")),1),r(f,{class:"cell",title:t.$t("contractOwnership")},{extra:c(()=>[r(w,{class:"btn",type:"primary",round:"",size:"mini",onClick:V,disabled:!p.value},{default:c(()=>[m(s(t.$t("renounce")),1)]),_:1},8,["disabled"])]),_:1},8,["title"]),r(f,{class:"cell",title:t.$t("transferOwnership")},{extra:c(()=>[r(w,{class:"btn",type:"primary",round:"",size:"mini",onClick:le,disabled:!p.value},{default:c(()=>[m(s(t.$t("transfer")),1)]),_:1},8,["disabled"])]),_:1},8,["title"])]),a("div",Ke,[r(w,{type:"primary",class:"manage-btn",onClick:se},{default:c(()=>[m(s(t.$t("LPAddOrManage")),1)]),_:1}),r(w,{type:"primary",class:"lock-btn",onClick:ae},{default:c(()=>[m(s(t.$t("lockToken")),1)]),_:1})]),n(z)?(u(),v("div",Ge,[r(w,{type:"primary",block:"",onClick:G},{default:c(()=>[m(s(t.$t("importToWallet")),1)]),_:1})])):y("",!0)]),r(D,{show:$.value,"onUpdate:show":l[12]||(l[12]=d=>$.value=d),title:t.$t("giveUpConfirm"),message:t.$t("giveUpConfirmInfo"),cancelButtonText:t.$t("thinkAgain"),confirmButtonText:t.$t("confirmAndGiveUp"),confirmButtonLoading:W.value,onOnConfirm:K,onOnCancel:l[13]||(l[13]=d=>$.value=!1)},null,8,["show","title","message","cancelButtonText","confirmButtonText","confirmButtonLoading"]),r(D,{show:F.value,"onUpdate:show":l[14]||(l[14]=d=>F.value=d),title:t.$t("giveUpSuccesslly"),message:q.value,showCancelButton:!1,confirmButtonText:t.$t("copyHash"),onOnConfirm:l[15]||(l[15]=d=>n(B)(M.value)),onOnCancel:l[16]||(l[16]=d=>F.value=!1)},null,8,["show","title","message","confirmButtonText"])],64)}}},tt=oe(Je,[["__scopeId","data-v-4c59742e"]]);export{tt as default};

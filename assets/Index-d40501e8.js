import{_ as X,d as Y,f as Z,u as ee,U as te,g as S,h as W,V as B,N as A,i as se,p as oe,n as ae,r as $,o as u,c as h,b as l,j as c,a as i,t as f,w as le,k as r,l as I,D as ne,s as ie,q as ce,v as re,A as P,I as de,m as L,F as j,x as F}from"./index-66fccc80.js";import{u as ue,M as pe,S as R,L as fe,a as me}from"./SingleSelect-757d073d.js";import{D as he}from"./DropDown-a4673555.js";import"./ethers-1c7de5fd.js";import"./units-ac5af918.js";import"./bignumber-3e8dfdf6.js";const ve={class:"body launchpad"},ge={class:"top"},ke={class:"tools-bar"},we={class:"left"},ye={key:0,class:"address"},Se={class:"address-text"},_e={style:{"margin-left":"4px"}},Ne={class:"tools"},$e={class:"search"},Le={class:"select"},Ce={class:"launchpad-content"},be={key:0,class:"list-title"},Te={class:"title-item"},Ae={class:"arrow"},Ie={class:"title-item"},Pe={class:"arrow"},xe={class:"title-item"},Ve={class:"arrow"},ze={class:"text"},De={key:0},Ue={key:1},Me={class:"list-content"},We={__name:"Index",setup(Be){const d=Y(),a=ue();Z();const{t:x}=ee();te("reload");const y=S(""),v=S(!1),g=S(!1),k=S(!1),p=S(""),n=W({type:"",isAsc:!1}),s=W({page:1,pageSize:10,launchpadList:[],refreshing:!1,loading:!1,finished:!1,error:!1});p.value=B.get("launchpadShowType","block");function H(){ne[d.dappType].chainList.length>0&&(d.showSelectChainPopup=!0)}function V(){p.value=="block"?s.pageSize=20:p.value=="list"&&(s.pageSize=40)}V();function z(e){e!=p.value&&(p.value=e,V(),B.set("launchpadShowType",e))}function q(e){y.value=e,w()}function D(){g.value=!1,k.value=!1,v.value=!v.value,v.value?document.body.style.overflow="hidden":document.body.style.overflow=""}function E(e){if(e.length===0){ie(x("selectNetworkWarn"));return}D(),a.checkedNetworks=e,w()}const G=A(()=>a.networks.length===a.checkedNetworks.length?"allNetworks":x("networks",{num:a.checkedNetworks.length}));function U(){v.value=!1,k.value=!1,g.value=!g.value,g.value?document.body.style.overflow="hidden":document.body.style.overflow=""}function J(e){U(),a.checkedPlatform=e,w()}const K=A(()=>{var e;return(e=a.platforms.find(t=>t.value===a.checkedPlatform))==null?void 0:e.name});function C(e){e==n.type?n.isAsc?(n.type="",n.isAsc=!1):n.isAsc=!0:(n.type=e,n.isAsc=!1),w()}function M(){v.value=!1,g.value=!1,k.value=!k.value,k.value?document.body.style.overflow="hidden":document.body.style.overflow=""}function O(e){M(),a.checkedStatus=e,w()}const Q=A(()=>a.statusList.find(e=>e.value===a.checkedStatus).name);se(()=>{b()});function w(){s.page=1,s.launchpadList=[],s.finished=!1,s.error=!1,b()}async function b(){s.loading=!0;let e=oe({duration:0});console.log(a.checkedNetworks.toString());let t="";y.value&&(t=y.value);let _="";a.checkedPlatform!=="all"&&(_=a.checkedPlatform);let N="";a.checkedStatus!=="all"&&(N=a.checkedStatus);try{let m=await ae.launchpad.getLaunchpadList(s.page,s.pageSize,t,a.checkedNetworks.toString(),_,N,n);if(console.log(m),m.data.status==0){for(let T of m.data.data.list)s.launchpadList.push(T);m.data.data.list.length<s.pageSize?s.finished=!0:s.page++}}catch(m){s.error=!0,console.log(m)}finally{e.close(),s.loading=!1,s.refreshing=!1}}return(e,t)=>{const _=$("van-field"),N=$("van-empty"),m=$("van-list"),T=$("van-pull-refresh");return u(),h("div",ve,[l("div",ge,[l("div",ke,[l("div",we,[l("div",{onClick:t[0]||(t[0]=o=>c(d).showSelectDapp=!0)},[i(r,{class:"icon",name:"menu"})]),c(d).isConnectWallet?(u(),h("div",ye,[i(he,{class:"switch-chain",onClick:t[1]||(t[1]=o=>H()),error:!c(d).chainId,logo:c(d).chainIcon,value:c(d).chain.toUpperCase()},null,8,["error","logo","value"]),l("div",Se,f(c(ce)(c(d).walletAddress)),1),i(r,{class:"copy-icon",name:"copy",onClick:t[2]||(t[2]=le(o=>c(re)(c(d).walletAddress),["stop"]))})])):(u(),h("div",{key:1,class:"address",onClick:t[3]||(t[3]=(...o)=>c(d).connectWallet&&c(d).connectWallet(...o))},[i(r,{name:"wallet"}),l("div",_e,f(e.$t("pleaseConnectWallet")),1)]))]),l("div",Ne,[i(r,{name:"language",onClick:t[4]||(t[4]=o=>c(d).showLanguagePicker=!0)})])]),l("div",$e,[i(_,{class:"search-input","left-icon":"search","onUpdate:modelValue":[q,t[5]||(t[5]=o=>y.value=o)],modelValue:y.value,placeholder:e.$t("enterTokenName"),clearable:""},null,8,["modelValue","placeholder"])]),l("div",Le,[i(pe,{onConfirm:E,onToggleSelect:D,show:v.value,option:c(a).networks,checked:c(a).checkedNetworks,showName:e.$t(G.value)},null,8,["show","option","checked","showName"]),i(R,{onConfirm:J,onToggleSelect:U,show:g.value,option:c(a).platforms,checked:c(a).checkedPlatform,showName:e.$t(K.value)},null,8,["show","option","checked","showName"]),i(R,{onConfirm:O,onToggleSelect:M,show:k.value,option:c(a).statusList,checked:c(a).checkedStatus,showName:e.$t(Q.value)},null,8,["show","option","checked","showName"]),i(r,{name:p.value=="block"?"blockSelect":"block",class:"icon",onClick:t[6]||(t[6]=o=>z("block"))},null,8,["name"]),i(r,{name:p.value=="list"?"listSelect":"list",class:"icon",onClick:t[7]||(t[7]=o=>z("list"))},null,8,["name"])])]),l("div",Ce,[i(T,{modelValue:s.refreshing,"onUpdate:modelValue":t[14]||(t[14]=o=>s.refreshing=o),onRefresh:w,"pulling-text":e.$t("pulling"),"loosing-text":e.$t("loosing"),"loading-text":e.$t("loading")},{default:I(()=>[p.value=="list"?(u(),h("div",be,[l("div",Te,[l("span",{onClick:t[8]||(t[8]=o=>C("tagNum"))},[P(f(e.$t("projectToken"))+"/"+f(e.$t("tags"))+" ",1),l("span",Ae,[i(r,{name:n.type=="tagNum"&&n.isAsc?"topSelect":"top",class:"icon"},null,8,["name"]),i(r,{name:n.type=="tagNum"&&!n.isAsc?"downSelect":"down",class:"icon"},null,8,["name"])])])]),l("div",Ie,[l("span",{onClick:t[9]||(t[9]=o=>C("softcap"))},[P(f(e.$t("status"))+"/"+f(e.$t("softHard"))+" ",1),l("span",Pe,[i(r,{name:n.type=="softcap"&&n.isAsc?"topSelect":"top",class:"icon"},null,8,["name"]),i(r,{name:n.type=="softcap"&&!n.isAsc?"downSelect":"down",class:"icon"},null,8,["name"])])])]),l("div",xe,[l("span",{onClick:t[10]||(t[10]=o=>C("startTime"))},[P(f(e.$t("platform1"))+"/"+f(e.$t("startTime"))+" ",1),l("span",Ve,[i(r,{name:n.type=="startTime"&&n.isAsc?"topSelect":"top",class:"icon"},null,8,["name"]),i(r,{name:n.type=="startTime"&&!n.isAsc?"downSelect":"down",class:"icon"},null,8,["name"])])])])])):de("",!0),s.launchpadList.length==0?(u(),L(N,{key:1,class:"empty-box"},{image:I(()=>[i(r,{class:"icon",name:"emptyHistory"}),l("div",ze,f(e.$t("noRecord")),1)]),_:1})):(u(),L(m,{key:2,class:"launchpad-list",loading:s.loading,"onUpdate:loading":t[11]||(t[11]=o=>s.loading=o),"loading-text":e.$t("loading"),finished:s.finished,"error-text":e.$t("errorText"),"finished-text":e.$t("noMore"),error:s.error,"onUpdate:error":t[12]||(t[12]=o=>s.error=o),onLoad:t[13]||(t[13]=o=>b())},{default:I(()=>[p.value=="block"?(u(),h("div",De,[(u(!0),h(j,null,F(s.launchpadList,o=>(u(),L(fe,{class:"launchpad-item",launchpadItem:o,key:o.address},null,8,["launchpadItem"]))),128))])):(u(),h("div",Ue,[l("div",Me,[(u(!0),h(j,null,F(s.launchpadList,o=>(u(),L(me,{class:"launchpad-item",launchpadItem:o,key:o.address},null,8,["launchpadItem"]))),128))])]))]),_:1},8,["loading","loading-text","finished","error-text","finished-text","error"]))]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text"])])])}}},Ge=X(We,[["__scopeId","data-v-d093f957"]]);export{Ge as default};

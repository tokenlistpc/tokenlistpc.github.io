import{i as z,u as K,j as v,e as N,o as b,c as w,f as l,t as s,h as d,l as a,x as A,z as L,E as r,b as T,v as R,B as c,y as x,_ as ce,F as ae,g as re,A as oe,p as ye,d as fe,a as _e,K as he,L as be,N as ge,O as ke,q as we,m as ie,C as $e,P as ue}from"./index-a94cb140.js";import{B as Ie}from"./Back-9940be93.js";import{T as Ae}from"./TokenName-abb7e302.js";import{C as le}from"./CopyText-626e5767.js";import{_ as J}from"./OperateSuccessDialog-972456f2.js";import{u as G}from"./manage-3c7fbe4d.js";import{a as ne,f as de}from"./units-376cc3ce.js";import{R as j}from"./Rate-85fdb9b6.js";import"./TokenIcon-bc26533c.js";/* empty css                                                          */import"./DoubleToken-271d07ac.js";/* empty css                                                            *//* empty css                                                          */const Ce={class:"mint"},Ve={class:"dlg-item"},Se={class:"dlg-item-title"},Fe={class:"dlg-item"},Le={class:"dlg-item-title"},Te={class:"dlg-item"},Be={class:"dlg-item-title"},Ne={class:"dlg-bottom"},We={__name:"Mint",emits:["operateSuccess"],setup(Q,{emit:I}){const{t:u}=z(),U=K(),t=G(),e=v(""),y=v(U.walletAddress),p=v(""),_=v(!1),g=v(!1);function f(){/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/.test(y.value)||r.error(u("addressWrong"))}async function n(){if(!U.isConnecting){r.error(u("pleaseConnectWallet"));return}if(!e.value){r.error(u("amountEmpty"));return}if(e.value.replace(".","").length>34){r.error(u("amountOver"));return}let m=e.value.split(".");if(m[1]&&m[1].length>t.decimals){r.error(u("amountOver"));return}if(!/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/.test(y.value)){r.error(u("addressWrong"));return}_.value=!0;try{const h=await T.wallet.metamask.contract(t.tokenAddress,t.abi);let V=await h.mint(y.value,ne(e.value,t.decimals));p.value=V.hash,g.value=!0,V.wait().then(async B=>{if(B.status===1){r.success(u("upChainSuccessfully"));let H=await h.totalSupply();t.totalSupply=de(H.toString(),t.decimals),_.value=!1,I("operateSuccess")}})}catch(h){_.value=!1;const V=T.wallet.metamask.parseError(h);r.error(u(V))}finally{}}return(m,h)=>{const V=N("el-input"),B=N("el-button");return b(),w("div",Ce,[l("div",Ve,[l("div",Se,s(m.$t("currentTotal")),1),d(V,{class:"ipt-block",disabled:"",modelValue:a(t).totalSupply,"onUpdate:modelValue":h[0]||(h[0]=H=>a(t).totalSupply=H)},null,8,["modelValue"])]),l("div",Fe,[l("div",Le,s(m.$t("mintTokenAmount")),1),d(V,{class:"ipt-block",type:"number",modelValue:e.value,"onUpdate:modelValue":h[1]||(h[1]=H=>e.value=H),placeholder:m.$t("pleaseEnter")},null,8,["modelValue","placeholder"])]),l("div",Te,[l("div",Be,s(m.$t("receivingAddress")),1),d(V,{class:"ipt-block",modelValue:y.value,"onUpdate:modelValue":h[2]||(h[2]=H=>y.value=H),onBlur:f,placeholder:m.$t("pleaseEnter")},null,8,["modelValue","placeholder"])]),l("div",Ne,[d(B,{class:"btn-gradient btn-block",loading:_.value,onClick:n},{default:A(()=>[L(s(m.$t("submitAdd")),1)]),_:1},8,["loading"])]),d(J,{txHash:p.value,modelValue:g.value},null,8,["txHash","modelValue"])])}}},Oe={class:"edit-rate"},xe={class:"dlg-item"},Ue={class:"dlg-item-title"},Ee={key:0},He={key:1},Me={class:"dlg-item-value"},Pe={class:"rate-item"},Re={class:"rate-item-title"},De={class:"rate-item"},qe={class:"rate-item-title"},je={key:0,class:"rate-item"},ze={class:"rate-item-title"},Ke={key:1,class:"rate-item"},Je={class:"rate-item-title"},Ge={class:"dlg-item"},Qe={class:"dlg-item-title"},Xe={key:0},Ye={key:1},Ze={class:"dlg-item-value"},et={class:"rate-item"},tt={class:"rate-item-title"},lt={class:"rate-item"},st={class:"rate-item-title"},at={key:0,class:"rate-item"},ot={class:"rate-item-title"},nt={key:1,class:"rate-item"},dt={class:"rate-item-title"},rt={class:"dlg-bottom"},it={__name:"EditTax",emits:["operateSuccess"],setup(Q,{emit:I}){const{t:u}=z(),U=K(),t=G(),e=v(!1),y=v(t.buyFundFee),p=v(t.buyLPFee),_=v(t.buyBurnFee),g=v(t.buyRewardFee),f=v(t.sellFundFee),n=v(t.sellLPFee),m=v(t.sellBurnFee),h=v(t.sellRewardFee),V=v(""),B=v(!1),H=R(()=>{if(t.deployerId==1||t.deployerId==6)return c(y.value).plus(p.value).plus(_.value);if(t.deployerId==2||t.deployerId==3||t.deployerId==7||t.deployerId==8)return c(y.value).plus(p.value).plus(g.value);if(t.deployerId==4)return c(y.value).plus(p.value).plus(g.value).plus(_.value)}),k=R(()=>{if(t.deployerId==1||t.deployerId==6)return c(f.value).plus(n.value).plus(m.value);if(t.deployerId==2||t.deployerId==3||t.deployerId==7||t.deployerId==8)return c(f.value).plus(n.value).plus(h.value);if(t.deployerId==4)return c(f.value).plus(n.value).plus(h.value).plus(m.value)}),$=R(()=>{if(t.deployerId==1||t.deployerId==6)return Number(c(20).minus(p.value).minus(_.value));if(t.deployerId==2||t.deployerId==3||t.deployerId==7||t.deployerId==8)return Number(c(20).minus(p.value).minus(g.value));if(t.deployerId==4)return Number(c(25).minus(p.value).minus(g.value).minus(_.value))}),W=R(()=>{if(t.deployerId==1||t.deployerId==6)return Number(c(20).minus(y.value).minus(_.value));if(t.deployerId==2||t.deployerId==3||t.deployerId==7||t.deployerId==8)return Number(c(20).minus(y.value).minus(g.value));if(t.deployerId==4)return Number(c(25).minus(y.value).minus(g.value).minus(_.value))}),P=R(()=>{if(t.deployerId==1||t.deployerId==6)return Number(c(20).minus(y.value).minus(p.value));if(t.deployerId==4)return Number(c(25).minus(y.value).minus(p.value).minus(g.value))}),O=R(()=>{if(t.deployerId==2||t.deployerId==3||t.deployerId==7||t.deployerId==8)return Number(c(20).minus(y.value).minus(p.value).toNumber());if(t.deployerId==4)return Number(c(25).minus(y.value).minus(p.value).minus(_.value))}),Z=R(()=>{if(t.deployerId==1||t.deployerId==6)return Number(c(20).minus(n.value).minus(m.value));if(t.deployerId==2||t.deployerId==3||t.deployerId==7||t.deployerId==8)return Number(c(20).minus(n.value).minus(h.value));if(t.deployerId==4)return Number(c(25).minus(n.value).minus(h.value).minus(m.value))}),q=R(()=>{if(t.deployerId==1||t.deployerId==6)return Number(c(20).minus(f.value).minus(m.value));if(t.deployerId==2||t.deployerId==3||t.deployerId==7||t.deployerId==8)return Number(c(20).minus(f.value).minus(h.value));if(t.deployerId==4)return Number(c(25).minus(f.value).minus(h.value).minus(m.value))}),ee=R(()=>{if(t.deployerId==1||t.deployerId==6)return Number(c(20).minus(f.value).minus(n.value));if(t.deployerId==4)return Number(c(25).minus(f.value).minus(n.value).minus(h.value))}),te=R(()=>{if(t.deployerId==2||t.deployerId==3||t.deployerId==7||t.deployerId==8)return c(20).minus(f.value).minus(n.value).toNumber();if(t.deployerId==4)return Number(c(25).minus(f.value).minus(n.value).minus(m.value))});async function D(){if(!U.isConnecting){r.error(u("pleaseConnectWallet"));return}if(t.deployerId==1||t.deployerId==6){if(c(y.value).plus(_.value).plus(p.value).plus(f.value).plus(m.value).plus(n.value).lte(0)){r.error(u("taxlimit1"));return}}else if(t.deployerId==2||t.deployerId==7){if(c(y.value).plus(p.value).plus(f.value).plus(n.value).lte(0)){r.error(u("taxlimit2"));return}}else if((t.deployerId==3||t.deployerId==8)&&c(y.value).plus(g.value).plus(p.value).plus(f.value).plus(h.value).plus(n.value).lte(0)){r.error(u("taxlimit1"));return}e.value=!0;try{const F=await T.wallet.metamask.contract(t.tokenAddress,t.abi);let S;t.deployerId==1||t.deployerId==6?S=[c(p.value).div(100).multipliedBy(1e4).toNumber(),c(_.value).div(100).multipliedBy(1e4).toNumber(),c(y.value).div(100).multipliedBy(1e4).toNumber(),c(n.value).div(100).multipliedBy(1e4).toNumber(),c(m.value).div(100).multipliedBy(1e4).toNumber(),c(f.value).div(100).multipliedBy(1e4).toNumber()]:t.deployerId==2||t.deployerId==7?S=[c(p.value).div(100).multipliedBy(1e4).toNumber(),c(g.value).div(100).multipliedBy(1e4).toNumber(),c(y.value).div(100).multipliedBy(1e4).toNumber(),c(n.value).div(100).multipliedBy(1e4).toNumber(),c(h.value).div(100).multipliedBy(1e4).toNumber(),c(f.value).div(100).multipliedBy(1e4).toNumber()]:t.deployerId==3||t.deployerId==8?S=[c(y.value).div(100).multipliedBy(1e4).toNumber(),c(g.value).div(100).multipliedBy(1e4).toNumber(),c(p.value).div(100).multipliedBy(1e4).toNumber(),c(f.value).div(100).multipliedBy(1e4).toNumber(),c(h.value).div(100).multipliedBy(1e4).toNumber(),c(n.value).div(100).multipliedBy(1e4).toNumber()]:t.deployerId==4&&(S=[c(y.value).div(100).multipliedBy(1e4).toNumber(),c(p.value).div(100).multipliedBy(1e4).toNumber(),c(g.value).div(100).multipliedBy(1e4).toNumber(),c(_.value).div(100).multipliedBy(1e4).toNumber(),c(f.value).div(100).multipliedBy(1e4).toNumber(),c(n.value).div(100).multipliedBy(1e4).toNumber(),c(h.value).div(100).multipliedBy(1e4).toNumber(),c(m.value).div(100).multipliedBy(1e4).toNumber()]);const Y=await F.completeCustoms(S);r.success(u("submitSuccess")),V.value=Y.hash,B.value=!0,await Y.wait(),t.getTokenFee(t.tokenAddress),r.success(u("editTaxSuccessfully")),I("operateSuccess")}catch(F){const S=T.wallet.metamask.parseError(F);r.error(u(S))}finally{e.value=!1}}return(F,S)=>{const Y=N("el-button");return b(),w("div",Oe,[l("div",xe,[l("div",Ue,[a(t).deployerId!=4?(b(),w("span",Ee,s(F.$t("editBuyTax",{buyFee:H.value,maxBuyFee:20})),1)):(b(),w("span",He,s(F.$t("editBuyTax",{buyFee:H.value,maxBuyFee:25})),1))]),l("div",Me,[l("div",Pe,[l("div",Re,s(F.$t("marketingTax")),1),d(j,{class:"rate-item-value",modelValue:y.value,"onUpdate:modelValue":S[0]||(S[0]=E=>y.value=E),max:$.value,min:0,step:.1,precision:2},null,8,["modelValue","max"])]),l("div",De,[l("div",qe,s(F.$t("liquidityTax")),1),d(j,{class:"rate-item-value",modelValue:p.value,"onUpdate:modelValue":S[1]||(S[1]=E=>p.value=E),max:W.value,min:0,step:.1,precision:2},null,8,["modelValue","max"])]),a(t).deployerId==1||a(t).deployerId==4||a(t).deployerId==6?(b(),w("div",je,[l("div",ze,s(F.$t("burnTax")),1),d(j,{class:"rate-item-value",modelValue:_.value,"onUpdate:modelValue":S[2]||(S[2]=E=>_.value=E),max:P.value,min:0,step:.1,precision:2},null,8,["modelValue","max"])])):x("",!0),a(t).deployerId==2||a(t).deployerId==3||a(t).deployerId==4||a(t).deployerId==7||a(t).deployerId==8?(b(),w("div",Ke,[l("div",Je,s(F.$t("rewardTax")),1),d(j,{class:"rate-item-value",modelValue:g.value,"onUpdate:modelValue":S[3]||(S[3]=E=>g.value=E),max:O.value,min:0,step:.1,precision:2},null,8,["modelValue","max"])])):x("",!0)])]),l("div",Ge,[l("div",Qe,[a(t).deployerId!=4?(b(),w("span",Xe,s(F.$t("editSellTax",{sellFee:k.value,maxSellFee:20})),1)):(b(),w("span",Ye,s(F.$t("editSellTax",{sellFee:k.value,maxSellFee:25})),1))]),l("div",Ze,[l("div",et,[l("div",tt,s(F.$t("marketingTax")),1),d(j,{class:"rate-item-value",modelValue:f.value,"onUpdate:modelValue":S[4]||(S[4]=E=>f.value=E),max:Z.value,min:0,step:.1,precision:2},null,8,["modelValue","max"])]),l("div",lt,[l("div",st,s(F.$t("liquidityTax")),1),d(j,{class:"rate-item-value",modelValue:n.value,"onUpdate:modelValue":S[5]||(S[5]=E=>n.value=E),max:q.value,min:0,step:.1,precision:2},null,8,["modelValue","max"])]),a(t).deployerId==1||a(t).deployerId==4||a(t).deployerId==6?(b(),w("div",at,[l("div",ot,s(F.$t("burnTax")),1),d(j,{class:"rate-item-value",modelValue:m.value,"onUpdate:modelValue":S[6]||(S[6]=E=>m.value=E),max:ee.value,min:0,step:.1,precision:2},null,8,["modelValue","max"])])):x("",!0),a(t).deployerId==2||a(t).deployerId==3||a(t).deployerId==4||a(t).deployerId==7||a(t).deployerId==8?(b(),w("div",nt,[l("div",dt,s(F.$t("rewardTax")),1),d(j,{class:"rate-item-value",modelValue:h.value,"onUpdate:modelValue":S[7]||(S[7]=E=>h.value=E),max:te.value,min:0,step:.1,precision:2},null,8,["modelValue","max"])])):x("",!0)])]),l("div",rt,[d(Y,{class:"btn-gradient btn-block",loading:e.value,onClick:D},{default:A(()=>[L(s(F.$t("submit")),1)]),_:1},8,["loading"])]),d(J,{txHash:V.value,modelValue:B.value},null,8,["txHash","modelValue"])])}}};const ut={class:"mint"},ct={key:1,class:"err-info has-added"},mt={class:"dlg-item"},pt={key:0,class:"dlg-bottom"},vt={class:"white-list-table"},yt={key:0,class:"white-list-table-title"},ft={key:1,class:"dlg-bottom"},_t={class:"operate"},ht={__name:"WhiteList",emits:["operateSuccess"],setup(Q,{emit:I}){const{t:u}=z(),U=K(),t=G(),e=v([{addressAdd:"",isAdded:!1}]),y=v(!1),p=v([]),_=v(!1),g=v(""),f=v(!1);function n(k){return k&&k.trim()}function m(){e.value.push({addressAdd:"",isAdded:!1})}function h(k){e.value.splice(k,1)}async function V(k){e.value[k].addressAdd=e.value[k].addressAdd.trim();let $=e.value[k].addressAdd;if(e.value[k].isAdded=!1,!$)return;if(!/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/.test($)){e.value[k].addressAdd="",r.error(u("addressWrong"));return}if(console.log(e.value.find(P=>P.addressAdd.toLowerCase()==$.toLowerCase())),e.value.filter(P=>P.addressAdd.toLowerCase()==$.toLowerCase()).length>1&&(e.value[k].addressAdd="",r.error(u("addressHasEntered"))),t.deployerId==4){y.value=!0,_.value=!0;const P=await T.wallet.metamask.contract(t.tokenAddress,t.abi);console.log(P),await P._feeWhiteList($)?e.value[k].isAdded=!0:e.value[k].isAdded=!1,y.value=!1,_.value=!1}else t.whiteList.findIndex(P=>P==$.toLowerCase())!=-1?e.value[k].isAdded=!0:e.value[k].isAdded=!1}async function B(){if(!U.isConnecting){r.error(u("pleaseConnectWallet"));return}let k=[];for(let $ in e.value)e.value[$].addressAdd&&!e.value[$].isAdded&&k.push(e.value[$].addressAdd);if(k.length==0){r.error(u("enterAddressLimit"));return}y.value=!0,console.log(k);try{const $=await T.wallet.metamask.contract(t.tokenAddress,t.abi);console.log($);const W=await $.setFeeWhiteList(k,!0);g.value=W.hash,f.value=!0,await W.wait(),t.deployerId!=4&&(await t.getWhiteList(t.tokenAddress),p.value=[]),e.value=[{addressAdd:"",isAdded:!1}],r.success(u("addWhiteListSuccess"))}catch($){const W=T.wallet.metamask.parseError($);r.error(u(W))}finally{y.value=!1}}async function H(){if(!U.isConnecting){r.error(u("pleaseConnectWallet"));return}let k=[];if(t.deployerId==4){for(let $ in e.value)e.value[$].addressAdd&&e.value[$].isAdded&&k.push(e.value[$].addressAdd);if(k.length==0){r.error(u("enterRemoveAddressLimit"));return}}else if(k=p.value,k.length==0){r.error(u("selectAddressLimit"));return}_.value=!0;try{const $=await T.wallet.metamask.contract(t.tokenAddress,t.abi);console.log($);const W=await $.setFeeWhiteList(k,!1);console.log(W),g.value=W.hash,f.value=!0,await W.wait(),t.deployerId!=4&&(await t.getWhiteList(t.tokenAddress),p.value=[]),e.value=[{addressAdd:"",isAdded:!1}],r.success(u("removeWhiteListSuccess"))}catch($){const W=T.wallet.metamask.parseError($);r.error(u(W))}finally{_.value=!1}}return(k,$)=>{const W=N("CircleCloseFilled"),P=N("el-icon"),O=N("el-input"),Z=N("Plus"),q=N("el-button"),ee=N("el-checkbox"),te=N("el-checkbox-group");return b(),w("div",ut,[(b(!0),w(ae,null,re(e.value,(D,F)=>(b(),w("div",{class:"dlg-item",key:F},[e.value.length>1?(b(),oe(P,{key:0,class:"close",onClick:S=>h(F)},{default:A(()=>[d(W)]),_:2},1032,["onClick"])):x("",!0),d(O,{class:"ipt-block",clearable:"",formatter:n,onChange:S=>V(F),modelValue:e.value[F].addressAdd,"onUpdate:modelValue":S=>e.value[F].addressAdd=S,placeholder:a(u)("inputAddress")},null,8,["onChange","modelValue","onUpdate:modelValue","placeholder"]),e.value[F].addressAdd&&e.value[F].isAdded?(b(),w("div",ct,s(k.$t("addressAdded")),1)):x("",!0)]))),128)),l("div",mt,[d(q,{class:"add-address",size:"small",onClick:$[0]||($[0]=D=>m())},{default:A(()=>[d(P,{class:"icon"},{default:A(()=>[d(Z)]),_:1}),L(" "+s(k.$t("addAddress")),1)]),_:1})]),a(t).deployerId!=4?(b(),w("div",pt,[d(q,{class:"btn-gradient btn-block",loading:y.value,onClick:B},{default:A(()=>[L(s(k.$t("add")),1)]),_:1},8,["loading"]),l("div",vt,[a(t).whiteList.length>0?(b(),w("div",yt,[l("span",null,s(k.$t("added")),1),d(q,{class:"btn-gradient",loading:_.value,onClick:H,type:"primary",size:"small"},{default:A(()=>[L(s(k.$t("remove")),1)]),_:1},8,["loading"])])):x("",!0),d(te,{class:"checkbox-group",modelValue:p.value,"onUpdate:modelValue":$[1]||($[1]=D=>p.value=D)},{default:A(()=>[(b(!0),w(ae,null,re(a(t).whiteList,(D,F)=>(b(),oe(ee,{class:"white-list-table-item",label:D,key:F},{default:A(()=>[d(le,{text:D,smallText:a(ye)(D)},null,8,["text","smallText"])]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])])])):(b(),w("div",ft,[l("div",_t,[d(q,{class:"btn remove",loading:_.value,onClick:H},{default:A(()=>[L(s(k.$t("remove")),1)]),_:1},8,["loading"]),d(q,{class:"btn-gradient btn",loading:y.value,onClick:B},{default:A(()=>[L(s(k.$t("add")),1)]),_:1},8,["loading"])])])),d(J,{txHash:g.value,modelValue:f.value,"onUpdate:modelValue":$[2]||($[2]=D=>f.value=D)},null,8,["txHash","modelValue"])])}}},bt=ce(ht,[["__scopeId","data-v-b5231e22"]]),gt={class:"transfer"},kt={class:"dlg-item"},wt={class:"dlg-item-title"},$t={class:"dlg-item"},It={class:"dlg-item-title"},At={class:"dlg-bottom"},Ct={__name:"TransferOwnership",emits:["operateSuccess"],setup(Q,{emit:I}){const{t:u}=z(),U=K(),t=G(),e=v(""),y=v(!1),p=v(!1),_=v(t.owner),g=v("");async function f(){if(!U.isConnecting){r.error(u("pleaseConnectWallet"));return}if(g.value=g.value.trim(),!/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/.test(g.value)){r.error(u("trueFormat"));return}if(g.value==_.value){r.error(u("transferConsistent"));return}p.value=!0;try{const n=await T.wallet.metamask.contract(t.tokenAddress,t.abi),m=await n.transferOwnership(g.value);r.success(u("submitSuccess")),e.value=m.hash,y.value=!0,await m.wait(),t.owner=await n.owner(),g.value="",I("operateSuccess"),r.success(u("transferSuccess"))}catch(n){console.log(n),n.info&&n.info.error&&n.info.error.code===4001?r.error(u("userCancelOperate")):n.error&&n.error.message&&n.error.message=="Canceled"?r.error(u("userCancelOperate")):r.error(u("transferFail"))}finally{p.value=!1}}return(n,m)=>{const h=N("el-input"),V=N("el-button");return b(),w("div",gt,[l("div",kt,[l("div",wt,s(n.$t("ownership")),1),d(h,{class:"ipt-block",disabled:"",modelValue:_.value,"onUpdate:modelValue":m[0]||(m[0]=B=>_.value=B)},null,8,["modelValue"])]),l("div",$t,[l("div",It,s(n.$t("transferTo")),1),d(h,{class:"ipt-block",modelValue:g.value,"onUpdate:modelValue":m[1]||(m[1]=B=>g.value=B),placeholder:n.$t("input")},null,8,["modelValue","placeholder"])]),l("div",At,[d(V,{class:"btn-gradient btn-block",loading:p.value,onClick:f},{default:A(()=>[L(s(n.$t("submit")),1)]),_:1},8,["loading"])]),d(J,{txHash:e.value,modelValue:y.value},null,8,["txHash","modelValue"])])}}},Vt={class:"mint"},St={class:"dlg-item"},Ft={class:"dlg-item-title"},Lt={class:"dlg-bottom"},Tt={__name:"EditMaxSwapAmount",emits:["operateSuccess"],setup(Q,{emit:I}){const{t:u}=z(),U=K(),t=G(),e=v(t.maxSwapAmount),y=v(""),p=v(!1),_=v(!1);async function g(){if(!U.isConnecting){r.error(u("pleaseConnectWallet"));return}if(!e.value){r.error(u("amountEmpty"));return}if(e.value.replace(".","").length>34){r.error(u("amountOver"));return}let f=e.value.split(".");if(f[1]&&f[1].length>t.decimals){r.error(u("amountOver"));return}p.value=!0;try{const n=await T.wallet.metamask.contract(t.tokenAddress,t.abi);let m=await n.changeSwapLimit(ne(e.value,t.decimals));y.value=m.hash,_.value=!0,m.wait().then(async h=>{if(h.status===1){r.success(u("upChainSuccessfully"));let V=await n.maxSwapAmount();t.maxSwapAmount=de(V.toString(),t.decimals),p.value=!1,I("operateSuccess")}})}catch(n){p.value=!1;const m=T.wallet.metamask.parseError(n);r.error(u(m))}finally{}}return(f,n)=>{const m=N("el-input"),h=N("el-button");return b(),w("div",Vt,[l("div",St,[l("div",Ft,s(f.$t("swapAmount")),1),d(m,{class:"ipt-block",type:"number",modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=V=>e.value=V),placeholder:f.$t("pleaseEnter")},null,8,["modelValue","placeholder"])]),l("div",Lt,[d(h,{class:"btn-gradient btn-block",loading:p.value,onClick:g},{default:A(()=>[L(s(f.$t("submit")),1)]),_:1},8,["loading"])]),d(J,{txHash:y.value,modelValue:_.value},null,8,["txHash","modelValue"])])}}},Bt={class:"mint"},Nt={class:"dlg-item"},Wt={class:"dlg-item-title"},Ot={class:"dlg-bottom"},xt={__name:"EditMaxWalletAmount",emits:["operateSuccess"],setup(Q,{emit:I}){const{t:u}=z(),U=K(),t=G(),e=v(t.maxWalletAmount),y=v(""),p=v(!1),_=v(!1);async function g(){if(!U.isConnecting){r.error(u("pleaseConnectWallet"));return}if(!e.value){r.error(u("amountEmpty"));return}if(e.value.replace(".","").length>34){r.error(u("amountOver"));return}let f=e.value.split(".");if(f[1]&&f[1].length>t.decimals){r.error(u("amountOver"));return}p.value=!0;try{const n=await T.wallet.metamask.contract(t.tokenAddress,t.abi);let m=await n.changeWalletLimit(ne(e.value,t.decimals));y.value=m.hash,_.value=!0,m.wait().then(async h=>{if(h.status===1){r.success(u("upChainSuccessfully"));let V=await n.maxWalletAmount();t.maxWalletAmount=de(V.toString(),t.decimals),p.value=!1,I("operateSuccess")}})}catch(n){p.value=!1;const m=T.wallet.metamask.parseError(n);r.error(u(m))}finally{}}return(f,n)=>{const m=N("el-input"),h=N("el-button");return b(),w("div",Bt,[l("div",Nt,[l("div",Wt,s(f.$t("walletAmount")),1),d(m,{class:"ipt-block",type:"number",modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=V=>e.value=V),placeholder:f.$t("pleaseEnter")},null,8,["modelValue","placeholder"])]),l("div",Ot,[d(h,{class:"btn-gradient btn-block",loading:p.value,onClick:g},{default:A(()=>[L(s(f.$t("submit")),1)]),_:1},8,["loading"])]),d(J,{txHash:y.value,modelValue:_.value},null,8,["txHash","modelValue"])])}}},Ut={class:"transfer"},Et={class:"dlg-item"},Ht={class:"dlg-item-title"},Mt={class:"dlg-item"},Pt={class:"dlg-item-title"},Rt={class:"dlg-bottom"},Dt={__name:"EditFundAddress",emits:["operateSuccess"],setup(Q,{emit:I}){const{t:u}=z(),U=K(),t=G(),e=v(""),y=v(!1),p=v(!1),_=v(""),g=R(()=>t.fundAddress);async function f(){if(!U.isConnecting){r.error(u("pleaseConnectWallet"));return}if(_.value=_.value.trim(),!/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/.test(_.value)){r.error(u("trueFormat"));return}if(_.value.toLowerCase()==g.value.toLowerCase()){r.error(u("transferConsistent"));return}p.value=!0;try{const n=await T.wallet.metamask.contract(t.tokenAddress,t.abi),m=await n.setFundAddress(_.value);r.success(u("submitSuccess")),e.value=m.hash,y.value=!0,await m.wait(),t.fundAddress=(await n.fundAddress()).toLowerCase(),I("operateSuccess"),r.success(u("upChainSuccessfully"))}catch(n){console.log(n),n.info&&n.info.error&&n.info.error.code===4001?r.error(u("userCancelOperate")):n.error&&n.error.message&&n.error.message=="Canceled"?r.error(u("userCancelOperate")):r.error(u("transferFail"))}finally{p.value=!1}}return(n,m)=>{const h=N("el-input"),V=N("el-button");return b(),w("div",Ut,[l("div",Et,[l("div",Ht,s(n.$t("currentFundAddress")),1),d(h,{class:"ipt-block",disabled:"",modelValue:g.value,"onUpdate:modelValue":m[0]||(m[0]=B=>g.value=B)},null,8,["modelValue"])]),l("div",Mt,[l("div",Pt,s(n.$t("newFundAddress")),1),d(h,{class:"ipt-block",modelValue:_.value,"onUpdate:modelValue":m[1]||(m[1]=B=>_.value=B),placeholder:n.$t("input")},null,8,["modelValue","placeholder"])]),l("div",Rt,[d(V,{class:"btn-gradient btn-block",loading:p.value,onClick:f},{default:A(()=>[L(s(n.$t("submit")),1)]),_:1},8,["loading"])]),d(J,{txHash:e.value,modelValue:y.value},null,8,["txHash","modelValue"])])}}};const qt={class:"token-detail"},jt={class:"content"},zt={class:"top"},Kt={class:"small-title"},Jt={class:"left"},Gt={class:"right"},Qt={class:"left"},Xt={class:"right"},Yt={key:0},Zt={key:1},el={key:2},tl={key:3},ll={key:4},sl={class:"left"},al={class:"right"},ol={class:"left"},nl={class:"right"},dl={class:"left"},rl={class:"right"},il={class:"left"},ul={class:"right"},cl={class:"left"},ml={class:"right"},pl={key:0},vl={class:"left"},yl={class:"right"},fl={class:"left"},_l={class:"right"},hl={class:"left"},bl={class:"right"},gl={class:"left"},kl={class:"right"},wl={key:0},$l={class:"small-title"},Il={class:"model-manage"},Al={class:"left"},Cl={class:"right"},Vl={key:1},Sl={class:"small-title"},Fl={key:0,class:"operate-item"},Ll={class:"left"},Tl={class:"right"},Bl={key:1,class:"operate-item"},Nl={class:"left"},Wl={class:"right"},Ol={key:2,class:"operate-item"},xl={class:"left"},Ul={class:"right"},El={key:3,class:"operate-item"},Hl={class:"left"},Ml={key:0,class:"right"},Pl={key:1,class:"right"},Rl={class:"operate-item"},Dl={class:"left"},ql={class:"right"},jl={key:4,class:"operate-item"},zl={class:"left"},Kl={class:"right"},Jl={class:"operate-item"},Gl={class:"left"},Ql={class:"right"},Xl={key:5,class:"operate-item"},Yl={class:"left"},Zl={class:"right"},es={class:"operate-item"},ts={class:"left"},ls={class:"right"},ss={class:"small-title"},as={class:"operate-item"},os={class:"left"},ns={class:"right"},ds={class:"operate-item"},rs={class:"left"},is={class:"right"},us={class:"operate"},cs={__name:"Manage",setup(Q){const{t:I}=z(),u=fe(),U=_e(),t=K(),e=G(),y=v(!1),p=v(!1),_=v(!1),g=v(!1),f=v(!1),n=v(!1),m=v(!1),h=v(!1),V=v(!1),B=v(!1),H=v(!1),k=v("");let $=u.params.deployerId,W=u.params.chain,P=u.params.tokenAddress;const O=R(()=>t.walletAddress.toLowerCase()===e.owner.toLowerCase());($!=e.deployerId||P!=e.tokenAddress)&&(e.$reset(),e.init(u.params.deployerId,u.params.tokenAddress),ee());const Z=R(()=>{if(e.deployerId==1||e.deployerId==6)return c(e.buyFundFee).plus(e.buyLPFee).plus(e.buyBurnFee);if(e.deployerId==2||e.deployerId==3||e.deployerId==7||e.deployerId==8)return c(e.buyFundFee).plus(e.buyLPFee).plus(e.buyRewardFee);if(e.deployerId==4)return c(e.buyFundFee).plus(e.buyLPFee).plus(e.buyRewardFee).plus(e.buyBurnFee)}),q=R(()=>{if(e.deployerId==1||e.deployerId==6)return c(e.sellFundFee).plus(e.sellLPFee).plus(e.sellBurnFee);if(e.deployerId==2||e.deployerId==3||e.deployerId==7||e.deployerId==8)return c(e.sellFundFee).plus(e.sellLPFee).plus(e.sellRewardFee);if(e.deployerId==4)return c(e.sellFundFee).plus(e.sellLPFee).plus(e.sellRewardFee).plus(e.sellBurnFee)});async function ee(){e.deployerId==0||e.deployerId==5?await e.getFreeTaxTokenInfo(e.tokenAddress):e.deployerId==1||e.deployerId==6?await e.getFeeTokenInfo(e.tokenAddress):e.deployerId==2||e.deployerId==7?await e.getDividendSelfTokenInfo(e.tokenAddress):e.deployerId==3||e.deployerId==8?await e.getAddPoolDividendTokenInfo(e.tokenAddress):e.deployerId==4&&await e.getDividendTokenInfo(e.tokenAddress)}async function te(){if(!t.isConnecting){r.error(I("pleaseConnectWallet"));return}if(!p.value){if(!O.value){r.error(I("notHolder"));return}if(!e.tradeStart){p.value=!0;try{const o=await T.wallet.metamask.contract(e.tokenAddress,e.abi);let i;e.deployerId!=4?i=await o.startTrade():i=await o.launch(),await i.wait(),r.success(I("tradeOpening")),e.tradeStart=!0}catch(o){console.log(o.info);const i=T.wallet.metamask.parseError(o);r.error(I(i))}finally{p.value=!1}}}}async function D(){if(!t.isConnecting){r.error(I("pleaseConnectWallet"));return}if(!g.value){if(!O.value){r.error(I("notHolder"));return}if(e.enableSwapLimit){g.value=!0;try{await(await(await T.wallet.metamask.contract(e.tokenAddress,e.abi)).disableSwapLimit()).wait(),r.success(I("closeSwapLimit")),e.enableSwapLimit=!1,e.maxSwapAmount=0}catch(o){console.log(o.info);const i=T.wallet.metamask.parseError(o);r.error(I(i))}finally{g.value=!1}}}}async function F(){if(!t.isConnecting){r.error(I("pleaseConnectWallet"));return}if(!n.value){if(!O.value){r.error(I("notHolder"));return}if(e.enableWalletLimit){n.value=!0;try{await(await(await T.wallet.metamask.contract(e.tokenAddress,e.abi)).disableWalletLimit()).wait(),r.success(I("closeWalletLimit")),e.enableWalletLimit=!1,e.maxWalletAmount=0}catch(o){console.log(o.info);const i=T.wallet.metamask.parseError(o);r.error(I(i))}finally{n.value=!1}}}}function S(){ke.confirm(I("giveUpConfirmInfo"),"",{confirmButtonText:I("confirm"),cancelButtonText:I("thinkAgain"),type:"warning",autofocus:!1,beforeClose:async(o,i,M)=>{i.confirmButtonLoading=!0,o=="confirm"&&await Y(),i.confirmButtonLoading=!1,M()}}).then(()=>{}).catch(()=>{})}async function Y(){if(!t.isConnecting){r.error(I("pleaseConnectWallet"));return}try{const o=await T.wallet.metamask.contract(e.tokenAddress,e.abi);let i=await o.renounceOwnership();k.value=i.hash,H.value=!0,i.wait().then(async M=>{M.status===1&&(r.success(I("upChainSuccessfully")),e.owner=await o.owner())})}catch(o){const i=T.wallet.metamask.parseError(o);r.error(I(i))}finally{}}function E(){window.open("https://m.jfliquidity.xyz/add?utm_source=ave.ai")}function me(){U.push("/lock/create/token")}async function pe(){try{await window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e.tokenAddress,symbol:e.symbol,decimals:e.decimals,image:""}}})}catch(o){console.log(o),o.info&&o.info.error&&o.info.error.code===4001?r.error(I("userCancelOperate")):o.error&&o.error.message&&o.error.message=="Canceled"?r.error(I("userCancelOperate")):r.error(I("unkonwError"))}}return(o,i)=>{const M=N("el-button"),se=N("el-switch"),X=N("el-dialog"),ve=he("loading");return b(),w("div",qt,[d(Ie),be((b(),w("div",jt,[l("ul",null,[l("li",zt,[d(Ae,{class:"token-name",symbol:a(e).symbol,name:a(e).name,bigIcon:a(we)(a(W).toLowerCase(),a(e).tokenAddress.toLowerCase()),smallIcon:a(ie)(a(W).toLowerCase())},null,8,["symbol","name","bigIcon","smallIcon"])])]),l("div",Kt,s(o.$t("tokenInformation")),1),l("ul",null,[l("li",null,[l("div",Jt,s(o.$t("chain")),1),l("div",Gt,[d(ge,{icon:a(ie)(a(W).toLowerCase()),text:a($e).chainList.find(C=>C.chain==a(W).toLowerCase()).chainShow},null,8,["icon","text"])])]),l("li",null,[l("div",Qt,s(o.$t("template")),1),l("div",Xt,[a(e).deployerId==0||a(e).deployerId==5?(b(),w("span",Yt,s(o.$t("freeTax")),1)):a(e).deployerId==1||a(e).deployerId==6?(b(),w("span",Zt,s(o.$t("feeToken")),1)):a(e).deployerId==2||a(e).deployerId==7?(b(),w("span",el,s(o.$t("selfDividendToken")),1)):a(e).deployerId==3||a(e).deployerId==8?(b(),w("span",tl,s(o.$t("addPoolDividend")),1)):a(e).deployerId==4?(b(),w("span",ll,s(o.$t("dividendToken")),1)):x("",!0)])]),l("li",null,[l("div",sl,s(o.$t("tokenAddress")),1),l("div",al,[d(le,{text:a(e).tokenAddress,smallText:a(e).tokenAddress},null,8,["text","smallText"])])]),l("li",null,[l("div",ol,s(o.$t("tokenName")),1),l("div",nl,s(a(e).name),1)]),l("li",null,[l("div",dl,s(o.$t("tokenSymbol")),1),l("div",rl,s(a(e).symbol),1)]),l("li",null,[l("div",il,s(o.$t("tokenPrecision")),1),l("div",ul,s(a(e).decimals),1)]),l("li",null,[l("div",cl,s(o.$t("tokenAmount")),1),l("div",ml,s(a(ue)(a(e).totalSupply)),1)]),a(e).deployerId!=2&&a(e).deployerId!=4&&a(e).deployerId<5?(b(),w("li",pl,[l("div",vl,s(o.$t("isMintToken")),1),l("div",yl,s(a(e).canMint?o.$t("yes"):o.$t("no")),1)])):x("",!0),l("li",null,[l("div",fl,s(o.$t("ownerAddr")),1),l("div",_l,[d(le,{text:a(e).owner,smallText:a(e).owner},null,8,["text","smallText"])])]),a(e).deployerId==3||a(e).deployerId==4||a(e).deployerId==8?(b(),w(ae,{key:1},[l("li",null,[l("div",hl,s(o.$t("fundAddress")),1),l("div",bl,[d(le,{text:a(e).rewardToken,smallText:a(e).rewardToken},null,8,["text","smallText"])])]),l("li",null,[l("div",gl,s(o.$t("fundAddressName")),1),l("div",kl,s(a(e).rewardTokenName)+" ("+s(a(e).rewardTokenSymbol)+") ",1)])],64)):x("",!0)]),a(e).canMint&&O.value?(b(),w("div",wl,[l("div",$l,s(o.$t("economicManagement")),1),l("div",Il,[l("div",Al,s(o.$t("currentIssuedAmount"))+"ï¼š",1),l("div",Cl,[L(s(a(ue)(a(e).totalSupply)),1),d(M,{class:"mint-btn",type:"primary",onClick:i[0]||(i[0]=C=>y.value=!0)},{default:A(()=>[L(s(o.$t("mint")),1)]),_:1})])])])):x("",!0),a(e).deployerId!=0&&a(e).deployerId!=5?(b(),w("div",Vl,[l("div",Sl,s(o.$t("tradeManage")),1),l("ul",null,[a(e).enableManualStartTrade?(b(),w("li",Fl,[l("div",Ll,s(o.$t("openTrade")),1),l("div",Tl,[d(se,{"model-value":a(e).tradeStart,disabled:a(e).tradeStart,loading:p.value,onClick:i[1]||(i[1]=C=>te())},null,8,["model-value","disabled","loading"])])])):x("",!0),a(e).enableKillBlock?(b(),w("li",Bl,[l("div",Nl,s(o.$t("autoKillBlockNum")),1),l("div",Wl,s(a(e).killBlock),1)])):x("",!0),a(e).enableChangeTax?(b(),w("li",Ol,[l("div",xl,s(o.$t("taxEdit")),1),l("div",Ul,[l("span",null,s(o.$t("buy"))+" "+s(Z.value)+"%"+s(o.$t("sell"))+" "+s(q.value)+"%",1),d(M,{class:"btn",key:"primary",type:"primary",disabled:!O.value,link:"",onClick:i[2]||(i[2]=C=>V.value=!0)},{default:A(()=>[L(s(o.$t("edit")),1)]),_:1},8,["disabled"])])])):x("",!0),a(e).enableWhiteList?(b(),w("li",El,[l("div",Hl,s(o.$t("whiteList")),1),a(e).deployerId!=4?(b(),w("div",Ml,[l("span",null,s(a(e).whiteList.length),1),d(M,{class:"btn",key:"primary",disabled:!O.value,type:"primary",link:"",onClick:i[3]||(i[3]=C=>_.value=!0)},{default:A(()=>[L(s(o.$t("add")),1)]),_:1},8,["disabled"])])):(b(),w("div",Pl,[d(M,{class:"btn",key:"primary",disabled:!O.value,type:"primary",link:"",onClick:i[4]||(i[4]=C=>_.value=!0)},{default:A(()=>[L(s(o.$t("add"))+"/"+s(o.$t("remove")),1)]),_:1},8,["disabled"])]))])):x("",!0),l("li",Rl,[l("div",Dl,s(o.$t("swapLimit")),1),l("div",ql,[d(se,{"model-value":a(e).enableSwapLimit,disabled:!a(e).enableSwapLimit||!O.value,loading:g.value,onClick:i[5]||(i[5]=C=>D())},null,8,["model-value","disabled","loading"])])]),a(e).enableSwapLimit?(b(),w("li",jl,[l("div",zl,s(o.$t("swapAmount")),1),l("div",Kl,[l("span",null,s(a(e).maxSwapAmount),1),d(M,{class:"btn",key:"primary",type:"primary",disabled:!O.value,link:"",onClick:i[6]||(i[6]=C=>f.value=!0)},{default:A(()=>[L(s(o.$t("edit")),1)]),_:1},8,["disabled"])])])):x("",!0),l("li",Jl,[l("div",Gl,s(o.$t("walletLimit")),1),l("div",Ql,[d(se,{"model-value":a(e).enableWalletLimit,disabled:!a(e).enableWalletLimit||!O.value,loading:n.value,onClick:i[7]||(i[7]=C=>F())},null,8,["model-value","disabled","loading"])])]),a(e).enableWalletLimit?(b(),w("li",Xl,[l("div",Yl,s(o.$t("walletAmount")),1),l("div",Zl,[l("span",null,s(a(e).maxWalletAmount),1),d(M,{class:"btn",key:"primary",type:"primary",disabled:!O.value,link:"",onClick:i[8]||(i[8]=C=>m.value=!0)},{default:A(()=>[L(s(o.$t("edit")),1)]),_:1},8,["disabled"])])])):x("",!0),l("li",es,[l("div",ts,s(o.$t("marketingAddress")),1),l("div",ls,[l("span",null,s(a(e).fundAddress),1),d(M,{class:"btn",key:"primary",type:"primary",disabled:!O.value,link:"",onClick:i[9]||(i[9]=C=>h.value=!0)},{default:A(()=>[L(s(o.$t("edit")),1)]),_:1},8,["disabled"])])])])])):x("",!0),l("div",ss,s(o.$t("authorityManagement")),1),l("ul",null,[l("li",as,[l("div",os,s(o.$t("contractOwnership")),1),l("div",ns,[d(M,{class:"btn",key:"primary",type:"primary",link:"",disabled:!O.value,onClick:S},{default:A(()=>[L(s(o.$t("renounce")),1)]),_:1},8,["disabled"])])]),l("li",ds,[l("div",rs,s(o.$t("transferOwnership")),1),l("div",is,[d(M,{class:"btn",key:"primary",type:"primary",link:"",disabled:!O.value,onClick:i[10]||(i[10]=C=>B.value=!0)},{default:A(()=>[L(s(o.$t("transfer")),1)]),_:1},8,["disabled"])])])]),l("div",us,[d(M,{class:"btn-gradient btn",text:"",bg:"",type:"primary",onClick:E},{default:A(()=>[L(s(o.$t("LPAddOrManage")),1)]),_:1}),d(M,{class:"btn",text:"",bg:"",type:"primary",onClick:me},{default:A(()=>[L(s(o.$t("lockToken")),1)]),_:1}),a(t).walletType=="metamask"?(b(),oe(M,{key:0,class:"btn",text:"",bg:"",type:"primary",onClick:pe},{default:A(()=>[L(s(o.$t("importToWallet")),1)]),_:1})):x("",!0)])])),[[ve,a(e).loading]]),d(X,{modelValue:y.value,"onUpdate:modelValue":i[12]||(i[12]=C=>y.value=C),title:o.$t("mint"),"destroy-on-close":"",class:"dlg dlg-mint"},{default:A(()=>[d(We,{onOperateSuccess:i[11]||(i[11]=C=>y.value=!1)})]),_:1},8,["modelValue","title"]),d(X,{modelValue:V.value,"onUpdate:modelValue":i[14]||(i[14]=C=>V.value=C),title:o.$t("taxEdit"),"destroy-on-close":"",class:"dlg dlg-rate"},{default:A(()=>[d(it,{onOperateSuccess:i[13]||(i[13]=C=>V.value=!1)})]),_:1},8,["modelValue","title"]),d(X,{modelValue:_.value,"onUpdate:modelValue":i[16]||(i[16]=C=>_.value=C),title:o.$t("whiteListManage"),"destroy-on-close":"",class:"dlg dlg-white-list"},{default:A(()=>[d(bt,{onOperateSuccess:i[15]||(i[15]=C=>_.value=!1)})]),_:1},8,["modelValue","title"]),d(X,{modelValue:B.value,"onUpdate:modelValue":i[18]||(i[18]=C=>B.value=C),title:o.$t("transferOwnership"),"destroy-on-close":"",class:"dlg dlg-white-list"},{default:A(()=>[d(Ct,{onOperateSuccess:i[17]||(i[17]=C=>B.value=!1)})]),_:1},8,["modelValue","title"]),d(X,{modelValue:f.value,"onUpdate:modelValue":i[20]||(i[20]=C=>f.value=C),title:o.$t("editSwapAmount"),"destroy-on-close":"",class:"dlg dlg-white-list"},{default:A(()=>[d(Tt,{onOperateSuccess:i[19]||(i[19]=C=>f.value=!1)})]),_:1},8,["modelValue","title"]),d(X,{modelValue:m.value,"onUpdate:modelValue":i[22]||(i[22]=C=>m.value=C),title:o.$t("editWalletAmount"),"destroy-on-close":"",class:"dlg dlg-white-list"},{default:A(()=>[d(xt,{onOperateSuccess:i[21]||(i[21]=C=>m.value=!1)})]),_:1},8,["modelValue","title"]),d(X,{modelValue:h.value,"onUpdate:modelValue":i[24]||(i[24]=C=>h.value=C),title:o.$t("editFundAddress"),"destroy-on-close":"",class:"dlg dlg-white-list"},{default:A(()=>[d(Dt,{onOperateSuccess:i[23]||(i[23]=C=>h.value=!1)})]),_:1},8,["modelValue","title"]),d(J,{txHash:k.value,modelValue:H.value},null,8,["txHash","modelValue"])])}}},As=ce(cs,[["__scopeId","data-v-21115839"]]);export{As as default};

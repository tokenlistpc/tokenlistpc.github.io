import{S as U}from"./Step-2eb9b85b.js";import{T as P}from"./TokenIcon-6ec78b8f.js";import{_ as x,g as R,h as z,i as g,w as O,j as W,k as $,b as E,o as u,c as f,f as t,d as e,F as A,e as S,l as L,m as j,t as b,p as q,q as T,E as I,r as V,ce as G,B as M,y as m,z as X,cf as Y,A as r,X as H,Y as J}from"./index-c5ffcea4.js";import{f as K}from"./units-833e723c.js";/* empty css                                                          */const Q={class:"token-list"},Z=["onClick"],ee={class:"item-left"},se={class:"item-info"},te={class:"up"},ae={class:"down"},oe={class:"item-right item-info"},le={class:"up"},ne={class:"down"},de={__name:"SelectToken",emits:["select"],setup(y,{emit:w}){const{t:p}=R(),c=z(),n=g(""),C=g([]),i=g([]);O(()=>[n.value,C.value],async()=>{i.value=await _()});async function _(){if(n.value)if(n.value.startsWith("0x")){let v=C.value.filter(l=>l.tokenAddress.toLowerCase()==n.value.toLowerCase());if(v.length==0&&W(n.value)){let l=await $.wallet.metamask.contractERC20(n.value);const a=n.value.toLowerCase(),o=await l.balanceOf(c.walletAddress),h=await l.decimals(),s=await l.name(),F=await l.symbol();let B={chain:c.chain,decimals:Number(h),name:s,symbol:F,tokenAddress:a,currentPriceUsd:0,value:Number(K(o.toString(),h)),icon:`https://ave.s3.ap-east-1.amazonaws.com/token_icon/${c.chain}/${a}.png`};console.log(B),v.push(B)}return v}else return C.value.filter(v=>v.symbol.toLowerCase().indexOf(n.value.toLowerCase())>-1);else return C.value}async function D(){let v=c.chain,l=[];try{let a=await $.ave.getUserToken(v,c.walletAddress);if(console.log(a),a.data.status==1){let h=a.data.data.filter(s=>new RegExp("^0x.*$","gi").test(s.token)&&s.value>0&&s.risk_score<60&&s.risk_level>=0&&s.flag!=="blacklist"&&s.symbol!==""&&s.flag!=="lp"&&s.token=="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee").map(s=>({chain:s.chain,demical:s.decimals,name:s.name,symbol:s.symbol,tokenAddress:s.token.toLowerCase(),currentPriceUsd:s.current_price_usd,value:s.value?s.value:0,icon:T(s.chain.toLowerCase(),s.token.toLowerCase())}));l=l.concat(h)}else return;let o=await $.ave.getSwapTokens(v);if(console.log(o),o.data.status==1){let h=o.data.data.filter(s=>new RegExp("^0x.*$","gi").test(s.token)&&l.findIndex(F=>F.tokenAddress==s.token)==-1&&s.risk_score<60&&s.risk_level>=0&&s.flag!=="blacklist"&&s.symbol!==""&&s.flag!=="lp"&&s.token=="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee").map(s=>({chain:s.chain,demical:s.decimals,name:s.name,symbol:s.symbol,tokenAddress:s.token.toLowerCase(),currentPriceUsd:s.current_price_usd,value:s.value?s.value:0,icon:T(s.chain.toLowerCase(),s.token.toLowerCase())}));l=l.concat(h)}else return}catch(a){a&&a.message?I.error(a.message):I.error(p("unknowError")),l=[]}finally{}C.value=l}return D(),(v,l)=>{const a=E("el-input");return u(),f(A,null,[t(a,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=o=>n.value=o),placeholder:"请输入代币地址"},null,8,["modelValue"]),e("ul",Q,[(u(!0),f(A,null,S(i.value,o=>(u(),f("li",{onClick:()=>w("select",o)},[e("div",ee,[t(P,{class:"token-icon-30",bigIcon:o.icon,smallIcon:L(j)(o.chain)},null,8,["bigIcon","smallIcon"]),e("div",se,[e("div",te,b(o.symbol),1),e("div",ae,b(o.tokenAddress=="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"?" ":L(q)(o.tokenAddress,8)),1)])]),e("div",oe,[e("div",le,b(o.value),1),e("div",ne,b(o.currentPriceUsd?`$ ${o.currentPriceUsd}`:" "),1)])],8,Z))),256))])],64)}}},ie=x(de,[["__scopeId","data-v-845d603a"]]);const ce={class:"box"},re={class:"index"},ue={class:"content"},_e={__name:"InputAddressList",setup(y){const w=V(["0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6","0x79a829E5D4C618701352653E65A8201eaEde6CF6"]),p=g(null),c=g(!0);async function n(){c.value=!0,await G(),p==null||p.value.focus()}function C(i){console.log("onBlurCapture"),console.log(i.target.value),c.value=!1}return(i,_)=>(u(),f("div",ce,[c.value?(u(),f("textarea",{key:0,class:"ipt",ref_key:"ipt",ref:p,onBlurCapture:C},null,544)):(u(),f("div",{key:1,class:"table",onClick:n},[(u(!0),f(A,null,S(w,(D,v)=>(u(),f("li",null,[e("div",re,b(v+1),1),e("div",ue,b(D),1)]))),256))]))]))}},ve=x(_e,[["__scopeId","data-v-89e81bbf"]]);const d=y=>(H("data-v-d4693345"),y=y(),J(),y),me={class:"form"},fe={class:"form-item"},pe={class:"form-item-title"},Ee={class:"form-item-value"},Ce={key:1,class:"placeholder"},he={class:"form-item"},ke=d(()=>e("div",{class:"form-item-title"},"选择类型",-1)),be={class:"form-item-value"},ge={class:"form-item address-list"},ye={class:"form-item-title"},Ae=d(()=>e("div",null,"收款地址",-1)),we={class:"clear"},De=d(()=>e("div",null,"清空",-1)),Fe={class:"form-item-value"},Be=d(()=>e("div",{class:"address-list-tips"},"*使用空格区隔，如Address1 Address2，或Address1,123 Address2,456，其中“123”、“456”代表发放数量，数量在导入时也可不指定。",-1)),$e={class:"form-item rule"},xe=d(()=>e("div",{class:"form-item-title"},"发放规则：",-1)),Le={class:"form-item-value"},Te={class:"form-item"},Ie=d(()=>e("div",{class:"form-item-title"},"发放总量",-1)),Se={class:"form-item-value"},Ve=d(()=>e("div",{class:"form-item"},[e("div",{class:"form-item-title"},"实际支付总额"),e("div",{class:"form-item-value"},[e("div",{class:"real-pay-amount"},[r("$189.23("),e("span",null,"含转账消耗8%"),r(")")])])],-1)),Ne={class:"form-bottom"},Ue={class:"form-bottom-btns"},Pe=Y('<div class="info" data-v-d4693345><div class="info-item" data-v-d4693345><div class="info-key" data-v-d4693345>3</div><div class="info-value" data-v-d4693345>地址数</div></div><div class="info-item" data-v-d4693345><div class="info-key" data-v-d4693345>6BNB</div><div class="info-value" data-v-d4693345>代币发放数量</div></div><div class="info-item" data-v-d4693345><div class="info-key" data-v-d4693345>3</div><div class="info-value" data-v-d4693345>交易总数</div></div><div class="info-item" data-v-d4693345><div class="info-key" data-v-d4693345>0</div><div class="info-value" data-v-d4693345>代币余额</div></div><div class="info-item" data-v-d4693345><div class="info-key" data-v-d4693345>0.1201 BNB</div><div class="info-value" data-v-d4693345>预估消耗Gas</div></div><div class="info-item" data-v-d4693345><div class="info-key" data-v-d4693345>0.0001 BNB</div><div class="info-value" data-v-d4693345>手续费</div></div></div>',1),Re={class:"form-item"},ze=d(()=>e("div",{class:"form-item-title"},"收款地址",-1)),Oe={class:"form-item-value"},We={class:"receiving-address"},je=d(()=>e("tr",null,[e("th",null,"钱包地址"),e("th",null,"数量"),e("th",null,"操作")],-1)),qe=d(()=>e("td",{class:"address"},"0x0FDa25DFb67cf0c7c92f1a9E969fC317d6368888",-1)),Ge=d(()=>e("td",null,"2BNB",-1)),Me=d(()=>e("td",{class:"address"},"0x0FDa25DFb67cf0c7c92f1a9E969fC317d6368888",-1)),Xe=d(()=>e("td",null,"2BNB",-1)),Ye=d(()=>e("td",{class:"address"},"0x0FDa25DFb67cf0c7c92f1a9E969fC317d6368888",-1)),He=d(()=>e("td",null,"2BNB",-1)),Je=d(()=>e("div",{class:"form-item"},[e("div",{class:"form-item-title"},"实际支付总额"),e("div",{class:"form-item-value"},[e("div",{class:"real-pay-amount"},[r("$189.23("),e("span",null,"含转账消耗8%"),r(")")])])],-1)),Ke={class:"form-bottom"},Qe={class:"form-bottom-btns"},Ze={key:2,class:"create-success"},es=d(()=>e("div",{class:"text"},"批量转账已提交，请等待完成",-1)),ss={__name:"Batch",setup(y){const w=V(["准备","确认","批量发送"]),p=g(0),c=g(null),n=g(!1);function C(i){c.value=i,n.value=!1}return(i,_)=>{const D=E("icon-text"),v=E("ArrowDownBold"),l=E("el-icon"),a=E("el-button"),o=E("svg-icon"),h=E("el-radio"),s=E("el-radio-group"),F=E("el-input"),B=E("el-alert"),N=E("el-dialog");return u(),f(A,null,[e("div",null,[e("div",null,[t(U,{"step-list":w,current:p.value},null,8,["step-list","current"])])]),e("div",me,[p.value==0?(u(),f(A,{key:0},[e("div",fe,[e("div",pe,b(i.$t("selectToken")),1),e("div",Ee,[e("div",{class:"select",onClick:_[0]||(_[0]=k=>n.value=!0)},[c.value?(u(),M(D,{key:0,icon:c.value.icon,text:c.value.symbol},null,8,["icon","text"])):(u(),f("div",Ce,b(i.$t("pleaseSelectToken1")),1)),t(l,null,{default:m(()=>[t(v)]),_:1})])])]),e("div",he,[ke,e("div",be,[t(a,{class:"btn btn-select-type btn-gradient"},{default:m(()=>[r("自定义转账")]),_:1}),t(a,{class:"btn btn-select-type"},{default:m(()=>[r("随机地址转账")]),_:1})])]),e("div",ge,[e("div",ye,[Ae,e("div",we,[t(o,{name:"clear"}),De])]),e("div",Fe,[t(ve),Be])]),e("div",$e,[xe,e("div",Le,[t(s,{modelValue:i.radio,"onUpdate:modelValue":_[1]||(_[1]=k=>i.radio=k)},{default:m(()=>[t(h,{label:3},{default:m(()=>[r("按总量平分")]),_:1}),t(h,{label:6},{default:m(()=>[r("每个地址数量均等")]),_:1})]),_:1},8,["modelValue"])])]),e("div",Te,[Ie,e("div",Se,[t(F,{class:"ipt",modelValue:i.killBlock,"onUpdate:modelValue":_[2]||(_[2]=k=>i.killBlock=k),type:"number"},null,8,["modelValue"])])]),Ve,e("div",Ne,[e("div",Ue,[t(a,{class:"btn btn-gradient"},{default:m(()=>[r("一键转账")]),_:1})])])],64)):p.value==1?(u(),f(A,{key:1},[Pe,e("div",Re,[ze,e("div",Oe,[e("table",We,[je,e("tr",null,[qe,Ge,e("td",null,[t(a,{type:"danger",plain:"",class:"btn-remove"},{default:m(()=>[r("移除")]),_:1})])]),e("tr",null,[Me,Xe,e("td",null,[t(a,{type:"danger",plain:"",class:"btn-remove"},{default:m(()=>[r("移除")]),_:1})])]),e("tr",null,[Ye,He,e("td",null,[t(a,{type:"danger",plain:"",class:"btn-remove"},{default:m(()=>[r("移除")]),_:1})])])])])]),Je,t(B,{title:"您当前的BNB数量为0不足以支付0.0281BNB",type:"error","show-icon":""}),e("div",Ke,[e("div",Qe,[t(a,{class:"btn btn-gradient"},{default:m(()=>[r("确认")]),_:1})])])],64)):p.value==2?(u(),f("div",Ze,[t(o,{name:"createSuccess"}),es,t(a,null,{default:m(()=>[r("查看交易详情")]),_:1})])):X("",!0)]),t(N,{modelValue:n.value,"onUpdate:modelValue":_[4]||(_[4]=k=>n.value=k),title:i.$t("selectCurrency"),class:"dlg dlg-select-token","destroy-on-close":""},{default:m(()=>[t(ie,{onSelect:_[3]||(_[3]=k=>C(k))})]),_:1},8,["modelValue","title"])],64)}}},ds=x(ss,[["__scopeId","data-v-d4693345"]]);export{ds as default};
